<div class="container" *ngIf="hasViewPermission">
    <div class="comapny_section">

        <div class="header_section">

            <div class="row">
                <div class="col-md-4">
                    <h1>Shift Pattern</h1>
                </div>

                <div class="col-md-3">

                </div>
                <div class="col-md-5">
                    <div class="button-group pull-right">
                        <button type="button" (click)="openPopus()" class="btn-Create btn btn-success "
                            *ngIf="hasAddPermission"><span class="header-btn-icon"><mat-icon>add_circle
                                </mat-icon></span> Create</button>
                        <span *ngIf="!hasAddPermission"></span>

                        <button type="button" class="btn-Edit btn-info btn" (click)="EditShowButtons()"
                            *ngIf="hasEditPermission">
                            <span class="header-btn-icon">
                                <mat-icon>draw
                                </mat-icon></span> Edit</button>
                        <span *ngIf="hasEditPermission"></span>

                        <button type="button" class="btn-Delete btn btn-danger" (click)="toggleCheckboxes()"
                            *ngIf="hasDeletePermission">
                            <span class="header-btn-icon">
                                <mat-icon> delete
                                </mat-icon></span> {{ Delete ? 'Cancel' : 'Delete' }}</button>

                        <span *ngIf="!hasDeletePermission"></span>
                    </div>
                </div>
            </div>



        </div>

        <div class="row">
            <div class="col-md-2">

                <button class=" mt-3 btn-danger btn " style="width: 100%;" color="warn" *ngIf="Delete"
                    (click)="toggleSelectAllEmployees()">Select All</button>

            </div>
            <div class="col-md-3">
                <button class=" mt-3 btn-danger btn" color="warn" *ngIf="Delete"
                    (click)="deleteSelectedShiftPattern()">Delete Selected </button>

            </div>
        </div>




        <div *ngIf="iscreateLoanApp" class="modal">
            <div class="modal-content">
                <div class="row">
                    <div class="col-md-10">
                        <h2> Create Shift Pattern</h2>
                    </div>
                    <div class="col-md-2">
                        <span class="close pull-right" (click)="closeapplicationModal()">&times;</span>
                    </div>
                </div>
                <hr />

                <form>
                    <div class="row">

                        <div class="col-md-6">

                            <label> Name</label>
                            <input type="text" class="form-control" required [(ngModel)]="Patern_name"
                                placeholder="Enter name " [ngModelOptions]="{standalone: true}"
                                [ngClass]="{'error-field': registerButtonClicked && !name}">

                            <div *ngIf="registerButtonClicked && !name" class="error-message">name is required.</div>
                        </div>


                        <div class="col-md-6">
                            <label>Monday Shift</label>
                            <div class="custom-sel">

                                <select class="form-control" id="monday_shift" required [(ngModel)]="monday_shift"
                                    [ngModelOptions]="{standalone: true}">
                                    <option value="">Select</option>
                                    <option *ngFor="let deparmentsec of Shifts" [value]="deparmentsec.id">{{
                                        deparmentsec.name }} </option>
                                </select>





                            </div>
                        </div>

                        <div class="col-md-6">
                            <label>Tuesday Shift</label>
                            <div class="custom-sel">

                                <select class="form-control" id="tuesday_shift" required [(ngModel)]="tuesday_shift"
                                    [ngModelOptions]="{standalone: true}">
                                    <option value="">Select</option>
                                    <option *ngFor="let deparmentsec of Shifts" [value]="deparmentsec.id">{{
                                        deparmentsec.name }} </option>
                                </select>





                            </div>
                        </div>


                        <div class="col-md-6">
                            <label>Wednesday Shift</label>
                            <div class="custom-sel">

                                <select class="form-control" id="wednesday_shift" required [(ngModel)]="wednesday_shift"
                                    [ngModelOptions]="{standalone: true}" >
                                    <option value="">Select</option>
                                    <option *ngFor="let deparmentsec of Shifts" [value]="deparmentsec.id">{{
                                        deparmentsec.name }} </option>
                                </select>






                            </div>
                        </div>



                        <div class="col-md-6">
                            <label>Thursday Shift</label>
                            <div class="custom-sel">

                                <select class="form-control" id="thursday_shift" required [(ngModel)]="thursday_shift"
                                    [ngModelOptions]="{standalone: true}" >
                                    <option value="">Select</option>
                                    <option *ngFor="let deparmentsec of Shifts" [value]="deparmentsec.id">{{
                                        deparmentsec.name }} </option>
                                </select>
                           





                            </div>
                        </div>


                        <div class="col-md-6">
                            <label>Friday Shift</label>
                            <div class="custom-sel">

                                <select class="form-control" id="friday_shift" required [(ngModel)]="friday_shift"
                                    [ngModelOptions]="{standalone: true}"
                                    >
                                    <option value="">Select</option>
                                    <option *ngFor="let deparmentsec of Shifts" [value]="deparmentsec.id">{{
                                        deparmentsec.name }} </option>
                                </select>
                             





                            </div>
                        </div>


                        <div class="col-md-6">
                            <label>Saturday Shift</label>
                            <div class="custom-sel">

                                <select class="form-control" id="saturday_shift" required [(ngModel)]="saturday_shift"
                                    [ngModelOptions]="{standalone: true}"
                                    >
                                    <option value="">Select</option>
                                    <option *ngFor="let deparmentsec of Shifts" [value]="deparmentsec.id">{{
                                        deparmentsec.name }} </option>
                                </select>
                              





                            </div>
                        </div>


                        <div class="col-md-6">
                            <label>Sunday Shift</label>
                            <div class="custom-sel">

                                <select class="form-control" id="sunday_shift" required [(ngModel)]="sunday_shift"
                                    [ngModelOptions]="{standalone: true}">
                                    <option value="">Select</option>
                                    <option *ngFor="let deparmentsec of Shifts" [value]="deparmentsec.id">{{
                                        deparmentsec.name }} </option>
                                </select>
                              





                            </div>
                        </div>






                    </div>
                    <div class="row">
                        <div class="col-md-10">

                        </div>

                        <div class="col-md-2">
                            <button type="button" class="btn-Create btn-full mt-5 btn-success btn"
                                (click)="registerWeeklyEmployeeShifts()">Create</button>
                        </div>
                    </div>
                </form>


            </div>
        </div>

        <!-- Edit Modal -->
        <div *ngIf="isEditModalOpen" class="modal">
            <div class="modal-content">
                <div class="row">
                    <div class="col-md-10">
                        <h2>Edit Shift Pattern</h2>
                    </div>
                    <div class="col-md-2">
                        <span class="close pull-right" (click)="closeEditModal()">&times;</span>
                    </div>
                </div>
                <hr />

                <form>
                    <div class="row">

                        <div class="col-md-6">

                            <label> Name</label>
                            <input type="text" class="form-control" required [(ngModel)]="editAsset.name"
                                placeholder="Enter name " [ngModelOptions]="{standalone: true}"
                                [ngClass]="{'error-field': registerButtonClicked && !name}">

                            <div *ngIf="registerButtonClicked && !name" class="error-message">name is required.</div>
                        </div>


                        <div class="col-md-6">
                            <label>Monday Shift</label>
                            <div class="custom-sel">

                                <select class="form-control" id="monday_shift" required
                                    [(ngModel)]="editAsset.monday_shift" [ngModelOptions]="{standalone: true}"
                                    [ngClass]="{'error-field': registerButtonClicked && !monday_shift}">
                                    <option value="">Select</option>
                                    <option *ngFor="let deparmentsec of Shifts" [value]="deparmentsec.id">{{
                                        deparmentsec.name }} </option>
                                </select>
                                <div *ngIf="registerButtonClicked && !monday_shift" class="error-message">Please Select
                                </div>





                            </div>
                        </div>

                        <div class="col-md-6">
                            <label>Tuesday Shift</label>
                            <div class="custom-sel">

                                <select class="form-control" id="tuesday_shift" required
                                    [(ngModel)]="editAsset.tuesday_shift" [ngModelOptions]="{standalone: true}"
                                    [ngClass]="{'error-field': registerButtonClicked && !tuesday_shift}">
                                    <option value="">Select</option>
                                    <option *ngFor="let deparmentsec of Shifts" [value]="deparmentsec.id">{{
                                        deparmentsec.name }} </option>
                                </select>
                                <div *ngIf="registerButtonClicked && !tuesday_shift" class="error-message">Please Select
                                </div>





                            </div>
                        </div>


                        <div class="col-md-6">
                            <label>Wednesday Shift</label>
                            <div class="custom-sel">

                                <select class="form-control" id="wednesday_shift" required
                                    [(ngModel)]="editAsset.wednesday_shift" [ngModelOptions]="{standalone: true}"
                                    [ngClass]="{'error-field': registerButtonClicked && !wednesday_shift}">
                                    <option value="">Select</option>
                                    <option *ngFor="let deparmentsec of Shifts" [value]="deparmentsec.id">{{
                                        deparmentsec.name }} </option>
                                </select>
                                <div *ngIf="registerButtonClicked && !wednesday_shift" class="error-message">Please
                                    Select </div>





                            </div>
                        </div>



                        <div class="col-md-6">
                            <label>Thursday Shift</label>
                            <div class="custom-sel">

                                <select class="form-control" id="thursday_shift" required
                                    [(ngModel)]="editAsset.thursday_shift" [ngModelOptions]="{standalone: true}"
                                    [ngClass]="{'error-field': registerButtonClicked && !thursday_shift}">
                                    <option value="">Select</option>
                                    <option *ngFor="let deparmentsec of Shifts" [value]="deparmentsec.id">{{
                                        deparmentsec.name }} </option>
                                </select>
                                <div *ngIf="registerButtonClicked && !thursday_shift" class="error-message">Please
                                    Select </div>





                            </div>
                        </div>


                        <div class="col-md-6">
                            <label>Friday Shift</label>
                            <div class="custom-sel">

                                <select class="form-control" id="friday_shift" required
                                    [(ngModel)]="editAsset.friday_shift" [ngModelOptions]="{standalone: true}"
                                    [ngClass]="{'error-field': registerButtonClicked && !friday_shift}">
                                    <option value="">Select</option>
                                    <option *ngFor="let deparmentsec of Shifts" [value]="deparmentsec.id">{{
                                        deparmentsec.name }} </option>
                                </select>
                                <div *ngIf="registerButtonClicked && !friday_shift" class="error-message">Please Select
                                </div>





                            </div>
                        </div>


                        <div class="col-md-6">
                            <label>Saturday Shift</label>
                            <div class="custom-sel">

                                <select class="form-control" id="saturday_shift" required
                                    [(ngModel)]="editAsset.saturday_shift" [ngModelOptions]="{standalone: true}"
                                    [ngClass]="{'error-field': registerButtonClicked && !saturday_shift}">
                                    <option value="">Select</option>
                                    <option *ngFor="let deparmentsec of Shifts" [value]="deparmentsec.id">{{
                                        deparmentsec.name }} </option>
                                </select>
                                <div *ngIf="registerButtonClicked && !saturday_shift" class="error-message">Please
                                    Select </div>





                            </div>
                        </div>


                        <div class="col-md-6">
                            <label>Sunday Shift</label>
                            <div class="custom-sel">

                                <select class="form-control" id="sunday_shift" required
                                    [(ngModel)]="editAsset.sunday_shift" [ngModelOptions]="{standalone: true}"
                                    [ngClass]="{'error-field': registerButtonClicked && !sunday_shift}">
                                    <option value="">Select</option>
                                    <option *ngFor="let deparmentsec of Shifts" [value]="deparmentsec.id">{{
                                        deparmentsec.name }} </option>
                                </select>
                                <div *ngIf="registerButtonClicked && !sunday_shift" class="error-message">Please Select
                                </div>





                            </div>
                        </div>






                    </div>

                    <div class="row">
                        <div class="col-md-10"></div>
                        <div class="col-md-2">
                            <button type="button" class="btn-Create btn-full mt-5 btn-success btn"
                                (click)="updateAssetType()">
                                Update
                            </button>
                        </div>
                    </div>
                </form>

            </div>
        </div>


        <div class="com_list mt-4" *ngIf="hasViewPermission">


            <table class="table">
                <thead>
                    <tr>
                        <th>Shift Pattern Name</th>
                        <th>Monday Shift</th>
                        <th>Tuesday Shift</th>
                        <th>Wednesday Shift</th>
                        <th>Thursday Shift</th>
                        <th>Friday Shift</th>
                        <th>Saturday Shift</th>
                        <th>Sunday Shift</th>
                        <th>Action</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let pattern of ShiftsPattern">
                        <td data-label="Shift Pattern Name">{{ pattern.name }}</td>
                        <td data-label="Monday Shift">{{ pattern.monday_shift }}</td>
                        <td data-label="Tuesday Shift">{{ pattern.tuesday_shift }}</td>
                        <td data-label="Wednesday Shift">{{ pattern.wednesday_shift }}</td>
                        <td data-label="Thursday Shift">{{ pattern.thursday_shift }}</td>
                        <td data-label="Friday Shift">{{ pattern.friday_shift }}</td>
                        <td data-label="Saturday Shift">{{ pattern.saturday_shift }}</td>
                        <td data-label="Sunday Shift">{{ pattern.sunday_shift }}</td>
                        <td data-label="Action">
                            <button mat-fab color="primary" aria-label="Edit icon" *ngIf="showEditBtn"
                                (click)="openEditModal(pattern)">
                                <mat-icon style="color: white;">draw</mat-icon>
                            </button>

                            <mat-checkbox *ngIf="Delete" [(ngModel)]="pattern.selected"></mat-checkbox>

                        </td>
                    </tr>
                </tbody>
            </table>

        </div>
    </div>
</div>
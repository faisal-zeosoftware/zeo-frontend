<div class="container">
    <div class="comapny_section" *ngIf="hasViewPermission">
        <div class="com_list " >

                <h2>Wps</h2>
                <hr>
                
        
                <div class="row ">
                  <div class="col-md-6">
                    <label>Select Payroll</label>
                    <div class="custom-sel">
                      <select class="form-control" [(ngModel)]="selectedPayrollId" [ngModelOptions]="{ standalone: true }">
                        <option *ngFor="let payroll of Payrolls" [value]="payroll.id">
                          {{ payroll.name }}
                        </option>
                      </select>
                    </div>
                  </div>
                  
                  <!-- OK button triggers posting and fetching SIF -->
                  
                </div>
                <div class="row">
                  <div class="col-md-10"></div>
                  <div class="col-md-2">
                    <button type="button" class="btn btn-full btn-success mt-4" (click)="fetchSIFData()">OK</button>

                  </div>
                </div>
           

                             
                <div *ngIf="sifData">
                  <div class="row mt-4">
                    <div class="col-md-9">
                      <h4 class="mt-3">Unified SIF Table</h4>

                    </div>
                    <div class="col-md-3">
                      <button type="button" class="btn btn-info pull-right mt-2 " (click)="downloadSIFStyledExcel()">
                        Download 
                      </button>  
                    </div>
                  </div>
                
<div class="table-responsive">
  <table class="styled-table mt-2">
    <thead>
      <tr>
        <th>Type</th>
        <th *ngFor="let key of getUnifiedSIFKeys()">{{ key }}</th>
      </tr>
    </thead>
    <tbody>
      <!-- HDR Row -->
      <tr>
        <td data-label="Type">HDR</td>
        <td *ngFor="let key of getUnifiedSIFKeys()" [attr.data-label]="key">
          {{ sifData.hdr[key] || '-' }}
        </td>
      </tr>

      <!-- EDR Rows -->
      <tr *ngFor="let edrItem of sifData.edr">
        <td data-label="Type">EDR</td>
        <td *ngFor="let key of getUnifiedSIFKeys()" [attr.data-label]="key">
          {{ edrItem[key] || '-' }}
        </td>
      </tr>

      <!-- SCR Row -->
      <tr>
        <td data-label="Type">SCR</td>
        <td *ngFor="let key of getUnifiedSIFKeys()" [attr.data-label]="key">
          {{ sifData.scr[key] || '-' }}
        </td>
      </tr>
    </tbody>
  </table>
</div>


                </div>
                
            </div>

        </div>
</div>